(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/account/login"],{"11ee":function(t,e,n){"use strict";(function(t){n("0c84"),n("921b");i(n("66fd"));var e=i(n("61e3"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},2684:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("46b2")),a=o(n("1a92"));function o(t){return t&&t.__esModule?t:{default:t}}var c=getApp().globalData,u=c.navBar,s=c.appid,r=c.appsecret,d=(c.isWeixin,{data:function(){return{display:!0,navBar:u,showWechat:!1,logo:"",mobile:"",password:"",scrollHeight:"",newHeight:"",count:0,logoHeight:""}},methods:{showTabbar:function(){this.tabbar=!0},hideTabbar:function(){this.tabbar=!1},clickLeft:function(){t.reLaunch({url:"/pages/tabar/index"})},pageUrl:function(e){var n=this;this.count++,1==this.count&&(setTimeout((function(){n.count=0}),1e3),setTimeout((function(){t.navigateTo({url:e})})))},mobileLogin:function(){var e=this,n=this.mobile,o=this.password;if(this.count++,1==this.count){setTimeout((function(){e.count=0}),1e3);var c=Math.round((new Date).getTime()/1e3);if(n)if(o)if(o.length<6)a.default.Toast("密码不能少于六位");else{var u={mobile:n,password:o,appid:s,timeStamp:c},d=i.default.hexMD5(a.default.objKeySort(u)+r),l=Object.assign({sign:d},u);a.default.postRequests("login",l,(function(e){var n=e.data;200==n.code?(a.default.Toast("登录成功，将跳转到首页"),t.setStorageSync("cdj_token",n.data.token),t.setStorageSync("is_child",n.data.is_child),t.setStorageSync("is_miniBind",n.data.is_miniBind),setTimeout((function(){t.switchTab({url:"/pages/tabar/index"})}),1e3)):a.default.Toast(n.msg)}))}else a.default.Toast("密码不能为空，请输入密码");else a.default.Toast("手机号码不能为空，请输入手机号")}},wechatLogin:function(){var e=this;console.log("weixin"),this.count++,1==this.count&&(setTimeout((function(){e.count=0}),500),t.getUserInfo({provider:"weixin",success:function(e){var n=e.encryptedData,o=e.iv;t.login({provider:"weixin",success:function(e){var c=Math.round((new Date).getTime()/1e3),u={appid:s,timeStamp:c,code:e.code},d=i.default.hexMD5(a.default.objKeySort(u)+r),l=Object.assign({type:"mini",sign:d,code:e.code,encryptedData:n,iv:o},u);a.default.postRequests("wxLogin",l,(function(e){var n=e.data;200==n.code?(a.default.Toast("登录成功，将跳转到首页"),wx.setStorageSync("cdj_token",n.data.token),wx.setStorageSync("is_child",n.data.is_child),wx.setStorageSync("is_miniBind",n.data.is_miniBind),setTimeout((function(){t.switchTab({url:"../tabar/index"})}),1e3)):201==n.code?wx.navigateTo({url:"selectway?identifying="+n.data.identifying}):a.default.Toast(n.msg)}))}})}}))}},onShow:function(){this.display=!0},mounted:function(){var e,n=this;t.getSystemInfo({success:function(i){t.setStorageSync("scrollHeight",i.windowHeight);var a=t.createSelectorQuery().select(".logo_width");a.boundingClientRect((function(t){e=t.height;var a=44;n.logoHeight=i.windowHeight-a-e})).exec()}})}});e.default=d}).call(this,n("543d")["default"])},"312f":function(t,e,n){"use strict";n.r(e);var i=n("2684"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"3c78":function(t,e,n){},"61e3":function(t,e,n){"use strict";n.r(e);var i=n("7d6b"),a=n("312f");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("ca30");var c,u=n("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],c);e["default"]=s.exports},"7d6b":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement;t._self._c},o=[]},ca30:function(t,e,n){"use strict";var i=n("3c78"),a=n.n(i);a.a}},[["11ee","common/runtime","common/vendor"]]]);