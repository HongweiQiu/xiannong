(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/search"],{"0018":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=requirePlugin("WechatSI"),o=n.getRecordRecognitionManager(),a=getApp().globalData,i=(a.imgRemote,{data:function(){return{sortIndex:1,keyList:[],list:[],keyword:"",page:1,showSearch:!0,startSpeech:!0,bitmap:!1,historyList:[],langStatu:!1}},methods:{deleteHistory:function(){var e=this;this.$showModal("清空历史记录?",(function(){e.$get(e.$api.goodsClear_history,{token:t.getStorageSync("userToken")},(function(t){var n=t.data;1==n.code&&(e.historyList=n.data)}))}))},submit:function(){this.searchList(this.keyword)},focus:function(){this.keyword="",this.showSearch=!0,this.searchHistory()},searchList:function(t){var e=this;this.keyword=t,this.searchHistory();var n={keyword:t,page:this.page};this.$get(this.$api.goodsList,n,(function(t){var n=t.data;1==n.code&&(e.showSearch=!1,e.list=n.data,0==n.data.length&&1==e.page?(e.list=[],e.bitmap=!0):e.bitmap=!1)}))},hotSearch:function(){var t=this;this.$get(this.$api.mainHotSearch,{},(function(e){var n=e.data;1==n.code&&(t.keyList=n.data)}))},searchHistory:function(){var e=this;this.$get(this.$api.goodsSearch_history,{token:t.getStorageSync("userToken")},(function(t){var n=t.data;if(1==n.code){var o=new Set(n.data);e.historyList=Array.from(o)}}))},touchStart:function(){this.langStatu=!0,o.start({duration:6e4,lang:"zh_CN"})},touchEnd:function(){var t=this;o.stop(),this.langStatu=!1,this.$refs.speech.close(),o.onStop=function(e){t.keyword=e.result.replace(/。/g,""),t.searchList(t.keyword)}}},onShow:function(){this.hotSearch(),this.searchHistory()},onLoad:function(){}});e.default=i}).call(this,n("543d")["default"])},"4eba":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var o={myRecomend:function(){return n.e("components/recomend/index").then(n.bind(null,"37a1"))},uniPopup:function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-popup/uni-popup")]).then(n.bind(null,"1f85"))}},a=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){return t.$refs.speech.open()},t.e1=function(e){return t.$refs.speech.close()})},i=[]},"7e8a":function(t,e,n){},"9aa5":function(t,e,n){"use strict";n.r(e);var o=n("4eba"),a=n("f88b");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("d0cd");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"709e0772",null,!1,o["a"],r);e["default"]=c.exports},d0cd:function(t,e,n){"use strict";var o=n("7e8a"),a=n.n(o);a.a},e3a3:function(t,e,n){"use strict";(function(t){n("0450"),n("921b");o(n("66fd"));var e=o(n("9aa5"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},f88b:function(t,e,n){"use strict";n.r(e);var o=n("0018"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a}},[["e3a3","common/runtime","common/vendor"]]]);