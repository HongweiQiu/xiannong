<view class="shoplist"><uni-nav-bar vue-id="473738d0-1" left-icon="arrowleft" right-text="清空" title="商品列表" status-bar="{{navBar}}" fixed="true" data-event-opts="{{[['^clickLeft',[['leftClick']]],['^clickRight',[['rightClick']]]]}}" onClickLeft="__e" onClickRight="__e" onVueInit="__l"></uni-nav-bar><view class="shop"><block a:for="{{shop}}" a:for-item="item" a:for-index="index" a:key="index"><view><view><block a:if="{{item.count}}"><view class="class_name"><text class="class_tag">类别</text><text>{{''+item.p_name+"("+item.count+")"}}</text></view></block><block a:for="{{item.list}}" a:for-item="list" a:for-index="second" a:key="second"><view class="single_good"><view class="flex"><view class="good_img"><block a:if="{{config.logo&&config.shuiyin==1}}"><image class="shuiyin" src="{{config.logo}}" mode="aspectFit"></image></block><image class="have_img" src="{{list.img==''?imgRemote+config.item_default:list.img}}" mode="aspectFit"></image></view><view class="include_delete"><view class="info"><view style="width:86%;"><view>{{list.title}}</view><block a:if="{{list.describe}}"><view class="hidden gray_font">{{list.describe}}</view></block></view><view data-event-opts="{{[['tap',[['deleteSign',['$0',index,second],[[['shop','',index],['list','',second]]]]]]]}}" onTap="__e"><text class="iconfont icon-shanchu"></text></view></view><view class="flex_left_right"><view><view><block a:for="{{list.label}}" a:for-item="label" a:for-index="__i0__" a:key="*this"><text class="red_tag">{{label}}</text></block></view><block a:if="{{token}}"><block><block a:if="{{config.is_look==1}}"><block><block a:if="{{list.attr.length!=0}}"><view><block a:if="{{list.attr.activity_num>=list.cart_num&&list.attr.is_activity==1}}"><text class="red_font">{{"￥"+list.attr.activity_price+"/"+list.attr.unit}}</text></block><block a:else><text class="red_font"><block a:if="{{list.attr.market_price==1}}"><block>时价</block></block><block a:else><block>{{'￥'+list.attr.attr_price+"/"+list.attr.unit}}</block></block></text></block><text class="gray_font">{{"已选("+list.attr.attr_title+")"}}</text></view></block><block a:else><view><block a:if="{{list.activity_num>=list.cart_num&&list.is_activity==1}}"><text class="red_font">{{"￥"+list.activity_price+"/"+list.unit}}</text></block><block a:else><text class="red_font"><block a:if="{{list.market_price==1}}"><block>时价</block></block><block a:else><block>{{'￥'+list.price+"/"+list.unit}}</block></block></text></block></view></block></block></block><block a:else><view class="red_font">￥***</view></block></block></block><block a:else><block><block a:if="{{list.attr.length}}"><view><text class="red_font">{{"￥"+list.attr.attr_price+"/"+list.attr.unit}}</text><text class="gray_font">已选(list.attr.attr_title)</text></view></block><block a:else><view><text class="red_font">{{"￥"+list.price+"/"+list.unit}}</text></view></block></block></block></view><view><my-stepper vue-id="{{'473738d0-2-'+index+'-'+second}}" val="{{list.cart_num}}" data-event-opts="{{[['^showKey',[['showKey',['$0',index,second],[[['shop','',index],['list','',second]]]]]],['^minus',[['minus',['$0',index,second,list.cart_num-1],[[['shop','',index],['list','',second]]]]]],['^plus',[['plus',['$0',index,second,list.cart_num+1],[[['shop','',index],['list','',second]]]]]]]}}" onShowKey="__e" onMinus="__e" onPlus="__e" onVueInit="__l"></my-stepper></view></view></view></view><view class="align_center"><text>备注:</text><view data-event-opts="{{[['tap',[['getFocus',['$0',index,second],[[['shop','',index],['list','',second]]]]]]]}}" style="width:89%;" onTap="__e"><block a:if="{{list.remark}}"><text>{{list.remark}}</text></block><block a:else><text class="gray_font">请告诉我们需要注意的地方</text></block></view></view></view></block></view></view></block></view><block a:if="{{giftInfo[ruleKind]}}"><view class="gift"><view class="class_name"><text class="class_tag">赠品</text><text>赠品(1)</text></view><view class="single_good"><view class="flex"><view class="good_img"><block a:if="{{config.logo&&config.shuiyin==1}}"><image class="shuiyin" src="{{config.logo}}" mode="aspectFit"></image></block><image class="have_img" src="{{giftInfo[ruleKind].item[0].img==''?imgRemote+config.item_default:giftInfo[ruleKind].item[0].img}}" mode="aspectFit"></image></view><view class="align_center flex_left_right" style="width:100%;"><text>{{giftInfo[ruleKind].item[0].title}}</text><text>{{"X"+giftInfo[ruleKind].item[0].num}}</text></view></view></view></view></block><view hidden="{{!(showRemark)}}" class="mask"><view class="mask_overly"></view><view class="remark_dialog"><view class="title">确定要修改备注吗</view><view class="textarea"><textarea focus="{{showRemark}}" placeholder="请输入你想说的" placeholder-class="place_style" show-confirm-bar="{{confirmBar}}" ref="__r" data-ref="text_id" data-event-opts="{{[['input',[['__set_model',['','remark','$event',[]]]]]]}}" value="{{remark}}" onInput="__e"></textarea></view><view class="buttons"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="cancel" onTap="__e">取消</view><view data-event-opts="{{[['tap',[['determine',['$event']]]]]}}" onTap="__e">确定</view></view></view></view><uni-popup vue-id="473738d0-3" type="bottom" ref="__r" data-ref="popup" data-event-opts="{{[['^maskInfo',[['closeKey']]]]}}" onMaskInfo="__e" onVueInit="__l"><my-keyboard vue-id="{{('473738d0-4')+','+('473738d0-3')}}" arrObj="{{shopItem}}" ref="__r" data-ref="keyboard" data-event-opts="{{[['^cancelKey',[['e1']]],['^toParent',[['toParent']]]]}}" onCancelKey="__e" onToParent="__e" onVueInit="__l"></my-keyboard></uni-popup></view>